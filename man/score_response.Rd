% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CAT_functions.R
\name{score_response}
\alias{score_response}
\title{Score Responses and Estimate Ability}
\usage{
score_response(
  test_event_df,
  item_id,
  response,
  key = 1,
  item_type = "dich",
  kludge = TRUE,
  optim_method = "CG"
)
}
\arguments{
\item{test_event_df}{Data frame. The test event table containing the selected items and their corresponding information.}

\item{item_id}{Integer. The identifier of the item to be scored.}

\item{response}{Integer. The response provided by the test taker.}

\item{key}{Integer. The correct response for the item. Default is 1.}

\item{item_type}{Character. The type of item. Default is "dich" for dichotomous scoring (either 1 or 0, no partial credit).}

\item{kludge}{Logical. Whether to apply a kludge to the MLE estimation to prevent extreme ability estimates. Default is TRUE.}

\item{optim_method}{Character. The optimization method to be used in the \code{optim} function. Default is \code{"CG"}.}
}
\value{
A data frame containing the updated test event table with the scored response and updated ability estimate.
}
\description{
This function scores the response to a given item and updates the ability estimate for a Computerized Adaptive Test (CAT).
}
\details{
The function scores the response based on the item type. For dichotomous items, the response is scored as 1 if it matches the key, and 0 otherwise. The function then updates the test event table with the scored response and the timestamp. It also estimates the ability and updates the test event table with the current ability estimate and its standard error.
}
\examples{
# Example usage
test_event_df <- data.frame(
  order = integer(),
  item_id = integer(),
  a = numeric(),
  b = numeric(),
  c = numeric(),
  response_score = numeric(),
  current_ability = numeric(),
  current_ability_se = numeric(),
  item_selection_ts = as.POSIXct(character()),
  response = numeric(),
  response_ts = as.POSIXct(character())
)
test_event_df <- rbind(test_event_df, data.frame(
  order = 1,
  item_id = 1,
  a = 1.2,
  b = -0.5,
  c = 0.2,
  response_score = NA,
  current_ability = NA,
  current_ability_se = NA,
  item_selection_ts = Sys.time(),
  response = NA,
  response_ts = as.POSIXct(NA)
))
test_event_df$current_ability <- 0
result <- score_response(test_event_df, item_id = 1, response = 1)
print(result)

}
\seealso{
\code{est_ability_mle} for estimating ability.
}
